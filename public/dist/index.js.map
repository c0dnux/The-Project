{"mappings":"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","sources":["public/js/index.js","public/js/auth.js","public/js/alert.js","public/js/cart.js"],"sourcesContent":["import { logout, auth } from \"./auth.js\";\r\nimport { addToCart, removeProduct } from \"./cart.js\";\r\nconst logoutBtn = document.querySelector(\"#logout-btn\");\r\nconst userSignup = document.getElementById(\"user-signup\");\r\nconst cart = document.getElementById(\"addToCartForm\");\r\nconst removeFromCart = document.querySelectorAll(\".romove-from-cart\");\r\nif (logoutBtn) {\r\n  logoutBtn.addEventListener(\"click\", async (e) => {\r\n    e.preventDefault();\r\n    await logout();\r\n  });\r\n}\r\nconst loginForm = document.querySelector(\".form--login\");\r\n\r\nif (loginForm) {\r\n  loginForm.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById(\"login-email\").value;\r\n    const password = document.getElementById(\"login-password\").value;\r\n    await auth(\"login\", { email, password });\r\n  });\r\n}\r\nif (userSignup) {\r\n  userSignup.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const form = {\r\n      name: document.getElementById(\"signup-name\").value,\r\n      email: document.getElementById(\"signup-email\").value,\r\n      password: document.getElementById(\"signup-password\").value,\r\n      phone: document.getElementById(\"signup-phone\").value,\r\n      address: document.getElementById(\"signup-address\").value,\r\n      confirmPassword: document.getElementById(\"signup-confirm-password\").value,\r\n    };\r\n\r\n    await auth(\"signup\", form);\r\n  });\r\n}\r\n\r\nif (document.querySelector(\"form\")?.dataset.page === \"auth\") {\r\n  document.addEventListener(\"DOMContentLoaded\", () => {\r\n    // Password toggle functionality\r\n    document.querySelectorAll(\".toggle-password\").forEach((icon) => {\r\n      icon.addEventListener(\"click\", () => {\r\n        const passwordField = document.getElementById(\r\n          icon.getAttribute(\"data-target\")\r\n        );\r\n        if (passwordField.type === \"password\") {\r\n          passwordField.type = \"text\";\r\n          icon.classList.remove(\"bi-eye\");\r\n          icon.classList.add(\"bi-eye-slash\");\r\n        } else {\r\n          passwordField.type = \"password\";\r\n          icon.classList.remove(\"bi-eye-slash\");\r\n          icon.classList.add(\"bi-eye\");\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\nif (cart) {\r\n  cart.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n\r\n    const data = {\r\n      productId: cart.dataset.productId,\r\n      quantity: document.getElementById(\"product-quantity\").value,\r\n    };\r\n    await addToCart(data);\r\n  });\r\n}\r\nif (removeFromCart) {\r\n  removeFromCart.forEach((button) => {\r\n    button.addEventListener(\"click\", async (e) => {\r\n      e.preventDefault();\r\n      const productId = button.getAttribute(\"data-id\");\r\n      await removeProduct(productId);\r\n    });\r\n  });\r\n}\r\n","import { showAlert } from \"./alert.js\";\r\n\r\nexport const auth = async (type, data) => {\r\n  const url = type === \"login\" ? \"/api/v1/users/login\" : \"/api/v1/users/signup\";\r\n \r\n\r\n  try {\r\n    const res = await axios.post(url, data, {\r\n      withCredentials: true,\r\n    });\r\n    if (res.data.status === \"Success\") {\r\n      showAlert(\"success\", \"Logged in successfully\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1500);\r\n    }\r\n  } catch (err) { \r\n    showAlert(\"danger\", err.response.data.message);\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await axios.post(\"/api/v1/users/logout\", {\r\n      withCredentials: true,\r\n    });\r\n    if (res.data.status === \"Success\") {\r\n      showAlert(\"success\", \"Logged Out successfully\");\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n\r\n    showAlert(\"danger\", \"Error logging out! Try again.\");\r\n  }\r\n};\r\n//     .updat\r\n","export const showAlert = (type, msg) => {\r\n  hideAlert(); // Remove existing alert before showing a new one\r\n\r\n  // Bootstrap alert classes: 'alert-success', 'alert-danger', etc.\r\n  const markup = `\r\n      <div class=\"alert alert-${type} alert-dismissible fade show position-fixed top-0 start-50 translate-middle-x shadow\" role=\"alert\" style=\"z-index: 1050;\">\r\n        ${msg}\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n      </div>\r\n    `;\r\n  // const data = from === \"cart\" ? \"#header\" : \"body\";\r\n  document.querySelector(\"#header\").insertAdjacentHTML(\"afterbegin\", markup);\r\n\r\n  // Auto-hide after 5 seconds\r\n  window.setTimeout(hideAlert, 5000);\r\n};\r\n\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector(\".alert\");\r\n  if (el) {\r\n    el.classList.remove(\"show\"); // Hide alert smoothly\r\n    setTimeout(() => el.remove(), 150); // Remove it after animation\r\n  }\r\n};\r\n","import { showAlert } from \"./alert.js\";\r\n\r\nexport const addToCart = async (data) => {\r\n  try {\r\n    const res = await axios.post(\"/api/v1/cart/add\", data, {\r\n      withCredentials: true,\r\n    });\r\n    if (res.data.status === \"Success\") {\r\n      showAlert(\"success\", \"Added to cart\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/cart\");\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"danger\", err.response.data.message);\r\n  }\r\n};\r\n\r\nexport const removeProduct = async (myProductId) => {\r\n  try {\r\n    const res = await axios.patch(\"/api/v1/cart/remove\", {\r\n      productId: myProductId,\r\n    });\r\n\r\n    if (res.data.status === \"Success\") {\r\n      showAlert(\"success\", \"Removed from cart\");\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n\r\n    showAlert(\"danger\", error.response.data.message);\r\n  }\r\n};\r\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../"}